version: "3"

vars:
  APP_NAME:
    sh: basename $(pwd)

tasks:
  all:
    desc: Run code generation
    cmds:
      - task: gen.proto

  proto:
    desc: Generate protobuf code
    cmds:
      - rm -rvf ./sdk/proto
      - buf lint proto
      - buf generate
